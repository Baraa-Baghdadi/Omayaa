<div
  class="user-fixed d-flex flex-column align-items-center justify-content-between bg-dark text-white"
>
  <!-- User dropdown -->
  <div class="dropdown mt-3">
    <a
      href="#"
      class="d-block"
      id="userDropdown"
      data-bs-toggle="dropdown"
      aria-expanded="false"
      (click)="$event.preventDefault()"
    >
      <img
        src="https://cdn-icons-png.flaticon.com/512/149/149071.png"
        alt="User"
        class="rounded-circle user-img"
        width="40"
        height="40"
      />
    </a>

    <!-- Display dynamic user name -->
    <span class="text-light d-block mt-2 text-center" style="font-size: 0.85rem; max-width: 70px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">
      {{ getDisplayName() }}
    </span>

    <ul
      class="dropdown-menu dropdown-menu-end mt-2 p-3"
      aria-labelledby="userDropdown"
      style="min-width: 220px"
    >
      <li class="text-center mb-3">
        <img
          src="https://cdn-icons-png.flaticon.com/512/149/149071.png"
          alt="User"
          class="rounded-circle"
          width="80"
          height="80"
        />
        <!-- Display dynamic user information -->
        <div class="mt-2 text-dark fw-bold">{{ getDisplayName() }}</div>
        <!-- Display user role if available -->
        <div class="badge bg-primary mt-1" *ngIf="currentUser?.role">{{ currentUser.role }}</div>
      </li>
      <li><hr class="dropdown-divider" /></li>
      <li>
        <button class="btn btn-outline-danger w-100" (click)="logOut()">
          <a class="text-decoration-none text-dark" href="/" onclick="window.top.location.href='/'">
            تسجيل الخروج
          </a>
        </button>
      </li>
    </ul>
  </div>
</div>