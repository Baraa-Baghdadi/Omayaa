<div
  class="user-fixed d-flex flex-column align-items-center justify-content-between bg-dark text-white"
>
  <!-- User dropdown -->
  <div class="dropdown mt-3">
    <a
      href="#"
      class="d-block"
      id="userDropdown"
      data-bs-toggle="dropdown"
      aria-expanded="false"
      (click)="$event.preventDefault()"
    >
      <img
        src="https://cdn-icons-png.flaticon.com/512/149/149071.png"
        alt="User"
        class="rounded-circle user-img"
        width="40"
        height="40"
      />
    </a>

    <!-- Display dynamic user name -->
    <span class="text-light d-block mt-2 text-center" style="font-size: 0.85rem; max-width: 70px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">
      {{ getDisplayName() }}
    </span>

    <ul
      class="dropdown-menu dropdown-menu-end mt-2 p-3"
      aria-labelledby="userDropdown"
      style="min-width: 220px"
    >
      <li class="text-center mb-3">
        <img
          src="https://cdn-icons-png.flaticon.com/512/149/149071.png"
          alt="User"
          class="rounded-circle"
          width="80"
          height="80"
        />
        <!-- Display dynamic user information -->
        <div class="mt-2 text-dark fw-bold">{{ getDisplayName() }}</div>
        <!-- Display user role if available -->
        <div class="badge bg-primary mt-1" *ngIf="currentUser?.role">{{ currentUser.role }}</div>
      </li>
      <li><hr class="dropdown-divider" /></li>
      <li>
        <button class="btn btn-outline-danger w-100" (click)="logOut()">
          <a class="text-decoration-none text-dark" href="/" onclick="window.top.location.href='/'">
            تسجيل الخروج
          </a>
        </button>
      </li>
    </ul>
  </div>
</div>



<!-- Bell & Notification -->
<div *ngIf="currentUser && currentUser.tenantId" class="allBell ms-4" (click)="showMsgList()">
  <div>
    <div>
      <i class="fa fa-bell fs-2 c-pointer"></i>
      <span
      style="font-size: 10px"
      class=" badge bg-danger"
      *ngIf="notificationListener.unreadNotificationCount$ | async as count"
    >
      {{ count }}
    </span>
    </div>
  </div>
  <!-- Scroll Pagination -->
   <div
    *ngIf="isShowListOfNotification"
    class="list"
    style="z-index: 1000 !important;overflow-y: scroll !important;"
  >
    <!-- Notifications List -->
    <div
      *ngIf="notificationListener.NotificationList$ | async as List"
      style="z-index: 1000 !important"
    >
    <div class="close-notification c-pointer mt-2"><i class="fa fa-times fs-5" aria-hidden="true"></i></div>
      <h5
        class="text-center text-danger mt-2"
        *ngIf="List.totalCount === 0"
      >
        {{"لا يوجد إشعارات" }}
      </h5>
      <h5
        class="text-center text-dark p-2 border-bottom"
        *ngIf="List.totalCount !== 0"
      >
        {{ "الإشعارات" }}
      </h5>
      <div
        class="list2"
      >
        <div
          class="row border-bottom p-2 notification"
          *ngFor="let item of List"
        >
          <div class="col-1">
            <i
              class="fa fa-calendar fs-4 ms-2 mt-2 innerBell"
              aria-hidden="true"
            ></i>
          </div>
          <div class="notification-content col-7">
            <p class="ms-3 fs-14">{{ item.content }}</p>
          </div>
          <p class="col-3 fs-14">{{item.createdOn}}</p>
        </div>
      </div>
    </div>
  </div> 
</div>
